<app-navbar></app-navbar>

<div class="register-page-container">
  <!-- Decorative background elements -->
  <div class="register-bg-elements">
    <div class="bg-circle circle-1"></div>
    <div class="bg-circle circle-2"></div>
    <div class="bg-blur"></div>
  </div>

  <div class="register-content">
    <!-- Left side - Welcome info -->
    <div class="register-info">
      <div class="info-content">
        <h2>Join Our Community</h2>
        <p class="subtitle">Become part of our growing family and enjoy all the benefits we offer.</p>
        
        <div class="register-benefits">
          <div class="benefit-item">
            <div>
              <div class="title-icon-container">
                <i class="pi pi-user-plus"></i>
                <h4>Exclusive Access</h4>
              </div>
              <p>Get access to member-only features and content</p>
            </div>
          </div>
          
          <div class="benefit-item">
            <div>
              <div class="title-icon-container">
                <i class="pi pi-bell"></i>
                <h4>Personalized Updates</h4>
              </div>
              <p>Receive tailored recommendations and notifications</p>
            </div>
          </div> 
          
          <div class="benefit-item">
            <div>
              <div class="title-icon-container">
                <i class="pi pi-shield"></i>
                <h4>Secure Account</h4>
              </div>
              <p>Your information is protected with industry-standard security</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right side - Registration form -->
    <div class="register-form-container">
      <div class="form-header">
        <i class="pi pi-user-edit form-icon"></i>
        <h2>Create Your Account</h2>
        <p>Fill out the form below to get started.</p>
      </div>

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate class="register-form">
        <div class="form-grid">
          <!-- Username -->
          <div class="form-field">
            <label for="username">Username <span>*</span></label>
            <input id="username" class="inputTextStyle" type="text" pInputText formControlName="userName" 
                   placeholder="Choose a unique username" />
            <small *ngIf="submitted && registerForm.get('userName')?.invalid" class="error-message">
              <i class="pi pi-exclamation-circle"></i> Username is required
            </small>
          </div>

          <!-- Password -->
          <div class="form-field">
            <label for="password">Password <span>*</span></label>
            <input id="password" class="inputTextStyle" type="password" pInputText formControlName="password" 
                   placeholder="At least 8 characters" />
            <small *ngIf="submitted && registerForm.get('password')?.invalid" class="error-message">
              <i class="pi pi-exclamation-circle"></i> Password is required (min 8 characters)
            </small>
          </div>

          <!-- First Name -->
          <div class="form-field">
            <label for="firstName">First Name <span>*</span></label>
            <input id="firstName" class="inputTextStyle" type="text" pInputText formControlName="firstName" 
                   placeholder="Your first name" />
            <small *ngIf="submitted && registerForm.get('firstName')?.invalid" class="error-message">
              <i class="pi pi-exclamation-circle"></i> First name is required
            </small>
          </div>

          <!-- Last Name -->
          <div class="form-field">
            <label for="lastName">Last Name</label>
            <input id="lastName" class="inputTextStyle" type="text" pInputText formControlName="lastName" 
                   placeholder="Your family name" />
          </div>

          <!-- Email -->
          <div class="form-field">
            <label for="email">Email <span>*</span></label>
            <input id="email" class="inputTextStyle" type="email" pInputText formControlName="email" 
                   placeholder="your.email@example.com" />
            <small *ngIf="submitted && registerForm.get('email')?.invalid" class="error-message">
              <i class="pi pi-exclamation-circle"></i> Valid email is required
            </small>
          </div>

          <!-- Phone -->
          <div class="form-field">
            <label for="phone">Phone <span>*</span></label>
            <input id="phone" class="inputTextStyle" type="text" pInputText formControlName="phone" 
                   placeholder="For important updates" />
            <small *ngIf="submitted && registerForm.get('phone')?.invalid" class="error-message">
              <i class="pi pi-exclamation-circle"></i> Phone is required (min 10 digits)
            </small>
          </div>

          <!-- Address -->
          <div class="form-field full-width">
            <label for="address">Address</label>
            <input id="address" class="inputTextStyle" type="text" pInputText formControlName="address" 
                   placeholder="Where can we find you?" />
          </div>
        </div>

        <!-- Submit Button -->
        <div class="submit-wrapper">
          <button pButton type="submit" class="submit-button" [disabled]="loading">
            <i class="pi pi-user-plus"></i> {{ loading ? 'Creating Account...' : 'Register Now' }}
          </button>
        </div>

        <!-- Feedback Messages -->
        <div *ngIf="successMessage" class="success-message">
          <i class="pi pi-check-circle"></i> {{ successMessage }}
          <p class="success-subtext">We're excited to have you on board! Check your email for next steps.</p>
        </div>
        <div *ngIf="errorMessage" class="error-message">
          <i class="pi pi-exclamation-triangle"></i> {{ errorMessage }}
        </div>

        <div class="login-prompt">
          Already have an account? 
          <a (click)="goToLoginPage()" class="login-link">
            <i class="pi pi-sign-in"></i> Sign in here
          </a>
        </div>
      </form>
    </div>
  </div>
</div>